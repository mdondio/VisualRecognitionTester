<!DOCTYPE html>
<html>
<head></head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="js/genericFunctions.js"></script>
<script src="js/functions.js"></script>

<script>createHead();</script>

<body>

<header></header><script>createHeader();</script>

<div class="content">

	<input type=image id="backicon" class="inline" src="ico/backDARK.png" style="width:60px;height:auto;">

	<h3> Upload a new test set</h3>	
	
	<div class="row clearfix" style="text-align: center;">
		<input type="submit" value="Upload all files" class="rectangle"></input>
	</div>
	
	<div class="row clearfix">

			<div class="column fourth">
				<p class="title right"><br>positive<br>images</p>
				<p class="paragraph right">Upload positive images</p>	
			</div>
			<div class="column three-fourths">
			<br>
				<form action="/file-upload" class="dropzone" id="pos-element"></form>
			</div>
	</div>
	
	<div class="row clearfix">

			<div class="column fourth">
				<p class="title right"><br>negative<br>images</p>
				<p class="paragraph right">Upload negative images</p>	
			</div>
			<div class="column three-fourths">
			<br>
				<form action="/file-upload" class="dropzone" id="neg-element"></form>
			</div>
	</div>

</div>

</body>


<script>

Dropzone.autoDiscover = false;

var myDropzoneTheFirst = new Dropzone('#pos-element', {       
    parallelUploads: 10000,
    uploadMultiple: true,
    autoProcessQueue: false,
    init: function() {

      		this.on("addedfile", function(file) {

	        var removeButton = Dropzone.createElement("<img class='center' src='ico/garbageDARK.png' style='width:30px; height:auto;'>");
	        var _this = this;

	        removeButton.addEventListener("click", function(e) {
	        
	          	e.preventDefault();
	          	e.stopPropagation();

		      	_this.removeFile(file);
		        
	        });

	        file.previewElement.appendChild(removeButton);

     		});


   		 }

    
});


var myDropzoneTheSecond = new Dropzone('#neg-element', {       
    parallelUploads: 10000,
    uploadMultiple: true,
    autoProcessQueue: false,
    init: function() {

      		this.on("addedfile", function(file) {

	        var removeButton = Dropzone.createElement("<img class='center' src='ico/garbageDARK.png' style='width:30px; height:auto;'>");
	        var _this = this;

	        removeButton.addEventListener("click", function(e) {
	        
	          	e.preventDefault();
	          	e.stopPropagation();

		      	_this.removeFile(file);
		        
	        });

	        file.previewElement.appendChild(removeButton);

     		});


   		 }
});


$('#submit-every-dropzone').on('click', function () {
    myDropzoneTheFirst.processQueue();
    myDropzoneTheSecond.processQueue();
});

  $('#backicon').mouseover(function(){
	$(this).attr('src','ico/back.png');
	});

	$('#backicon').mouseleave(function(){
		$(this).attr('src',"ico/backDARK.png" );
	});

	$('#backicon').click(function(){
		window.history.back();
	});

</script>

<style>
#submit-every-dropzone{
    background-color: #343b43; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    margin-left: 50%;
    font-size: 16px;
    }
    
.dropzone {  
 width: 900px; 
 border: dashed 2px #343b43; 
 background-color: white; 
}  
    
</style>

</html>