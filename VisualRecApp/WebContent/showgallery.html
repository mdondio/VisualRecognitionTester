<!DOCTYPE html>
<html>
<head></head>

<!-- LIBRERIE GENERICHE PER JQUERY -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery-form-validator/2.3.26/jquery.form-validator.min.js"></script> 

<!-- FUNZIONI CREATE DA NOI -->
<script src="js/genericFunctions.js"></script>
<script src="js/functions.js"></script>

<!-- LIBRERIA PER DISEGNARE GRAFICI -->
<script src ="https://cdn.plot.ly/plotly-latest.min.js"></script>

<!-- LIBRERIA PER PERSONALIZZAZIONE DEGLI ALERT -->
<script src="js/sweetalert2_mine.js"></script>
<link rel="stylesheet" href="css/sweetalert2_mine.css">

<!-- LIBRERIA PER CARICARE I FILE -->
<script src="js/dropzone.js"></script>
<link rel="stylesheet" href="css/dropzone.css">

<script>createHead();</script>

<body>
  <header id="header" style="animation-duration:2s"></header>
  <script>createHeader();</script>

	<div class="content">
	
		<input type=image id="backicon" class="inline" src="ico/backDARK.png" style="width:60px;height:auto;">
	
		<h3 id="testsetTitle"></h3>
			
		<div class="row clearfix">

			<div class="column fourth">
				<p class='title right'>positive<br>images</p>
				<p class='paragraph right'>list of all the pictures containing an object representing the category</p>	
			</div>
			<div class="column three-fourths"><br>
				<div class="post-preview" id="positivetestSetGallery"></div>
			</div>
		</div>

		<br><br>

		<div class="row clearfix">

			<div class="column fourth">
				<p class='title right'>negative<br>images</p>
				<p class='paragraph right'>list of all the pictures not containing any object representing the category, but similar ones</p>	
			</div>
			<div class="column three-fourths"><br>
				<div class="post-preview" id="negativetestSetGallery"></div>
			</div>
		</div>
		
		<br><br>
		
</div>
</body>

<script>

	//**************************************************************************
	//********* GET FROM THE SERVER TESTSET ***************************
	//**************************************************************************

	$.ajax({
		contentType : "application/json",
		dataType : "json",
		url : 'GetDataset',
		async : false,
		success : function(result) {
			var idgallery = localStorage.getItem("idgallery");
			for ( var i in result) {
				if (result[i]._id == idgallery) {
// 					var testname = idgallery.replace("_", " ");
					$("#testsetTitle").append(document.createTextNode(idgallery)); /*sostituire idgallery con testname se si vuole parsare il titolo*/
					
					var negative_images = [];
					for(var j=0;j<result[i].images.negative.length;j++) negative_images.push("GetImage?image_id="+result[i].images.negative[j]);

					var positive_images = [];
					for(var j=0;j<result[i].images.positive.length;j++) positive_images.push("GetImage?image_id="+result[i].images.positive[j]);
					
					createGallery('negativetestSetGallery',negative_images, result[i]._id + "NEG");
					createGallery('positivetestSetGallery',positive_images, result[i]._id + "POS");

				}
			}

		}
	});
	
	
	//ADD button actions
	$('#backicon').mouseover(function(){
	$(this).attr('src','ico/back.png');
	});
	
	$('#backicon').mouseleave(function(){
		$(this).attr('src',"ico/backDARK.png" );
	});
	
	$('#backicon').click(function(){
		window.history.back();
	});
	
</script>

</html>